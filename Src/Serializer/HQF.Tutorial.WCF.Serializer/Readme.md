XML和XML信息集间的一个关键的区分就是**XML信息集不确定一个具体类型**。所以尽管XML标准使用一个文本格式，XML信息集没有这种限制。相比直接使用XML来说使用XML信息集有很多重要的优势。例如：WCF可以以不同的行为表示消息只要它们基于一个XML信息集。这包括由XML1.1标准限定的文本格式和其他格式比如二进制格式。这允许WCF与XML一起使用，但是基于交互性和性能的要求一般要选择最合适的标准。

##五种模拟编码
 
>  编码是用来描述将一个WCF消息转换成一个字节数组的规则。这样便于消息在一个传输协议上通信。

WCF提供了5种编码格式类型:   
1. 二进制  
2. 文本  
3. 消息转换优化架构(MTOM)  
4. JavaScript 对象标记(JSON)  
5. 普通原有XML(POX)。
  
 具体使用哪一种编码取决于你的应用程序的需求。例如，你可能想在.NET应用程序间使用BinaryMessageEncoder编码来提升性能，使用TextMessageEncoder或者MtomMessageEncoder来支持基于WS-* Web 服务的交互，或者使用JsonMessageEncoder来支持基于Ajax的Web 应用。编码是WCF提供的结构扩展；因此，WCF可以扩展来支持新的编码器如果默认提供的编码器不能满足你的需求时。


##循环引用  
 引用保留允许同样的数据在一个数据契约中引用多于一次而不用重复数据。当你使用数据可能被引用多于一次的列表，数组和哈希表等数据结构时，保留引用这是一个很常用的场景。通过保留引用，数据在它第一次出现在数据契约中时被序列化然这个数据的所有顺序出现都以引用的形式。这可以在序列化时并且数据被引用多次的时候实现减少数据总量的预期重要效果。
  循环引用是指一个对象维持对子对象的引用，子对象还会对其引用。关于循环引用的一个例子是一个子对象维持到父对象的父子关系。这些情况的类型在面向对象编程中很常用。对象维护循环引用的问题是序列化不可能没有对引用保留的支持。任何序列化结构将会在一个试着序列化对象的无终止循环中终止。引用保留允许对使用的数据添加一个引用而不是对数据反复序列化。
  DataContractSerializer 默认不允许保留引用。引用保留对NetDataContractSerializer和XmlSerializer默认开启。如果你打算在客户端和服务端之间共享类型信息你可以使用这些序列化方法中的一个。否则，你还可以在DataContractSerializer上使用一个自定义属性来支持引用保留。

> 提示 使用IXmlSerializable 来支持引用保留
> 支持引用保留需要使用代码来实现如果你计划使用IXmlSerializable来使用自定义序列化

